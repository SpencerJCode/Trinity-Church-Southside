<script src="psalmsEngine.js"></script>

    <span class="section_line"></span>
    <div class="pop_content">
        <div class="spaced">
            <span id="psalm_title"></span>
            <span id="psalm_tune"></span>
            <span id="psalm_example"></span>
        </div>
    </div>
    <div class="body_content">
        <div id="psalm_verses" class="text_spaced"></div>
    </div>
    <br>
    <span class="section_line"></span>
    <br>
    <button class="play_button" onclick=playPsalm() id="psalm_player">Play</button>
    <br>
    <br>
    <div class="form_select">
        <select id="psalm_select" class="selector"></select>
    </div>
    <button class="go_button" onclick=goToPsalm()>Go!</button>
    
    <script>
        console.log("Psalm script starting..");
        var engine = new psalmsEngine();
        engine.setFirstLoad();
        engine.audio.addEventListener("ended", function(){
            engine.audio.currentTime = 0;
            button.innerHTML = "Play";
        });
        var button = document.getElementById("psalm_player");
        function goToPsalm() {
            engine.audio.pause();
            button.innerHTML = "Play";
            var e = document.getElementById("psalm_select");
            var psalm = e.value;
            engine.loadPsalm(psalm);
            engine.audio.addEventListener("ended", function(){
                engine.audio.currentTime = 0;
                button.innerHTML = "Play";
            });
        }
        function playPsalm() {
            if (button.innerHTML == "Play") {
                engine.audio.play();
                button.innerHTML = "Stop"
                
            } else {
                engine.audio.pause();
                button.innerHTML = "Play";
            }
        }
        function changeButtonTextWhenFinished(){

        }
    </script>
